<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Document</title>
        <link rel="stylesheet" href="style.css">
    </head>
    <body id="body">
        <div id="yourDadEscapedBody" class="levelBody">
            <div class="afterXYears" id="afterNineYears">Nine Years Later</div>
            <img id="pickUpItemYourDadEscapedBBGun" class="pickUpItem" title="BB Gun" src="BB Gun.png" alt="x">
            <img id="pickUpItemYourDadEscapedBaseBallBat" class="pickUpItem" title="Baseball bat"  src="Baseball bat.png" alt="x">
            <img id="objectPointingArrowYourDadEscapedToBBGun" class="pointerCursor objectPointingArrow" src="./objectPointingArrow.png" alt="x">
            <img id="objectPointingArrowYourDadEscapedToBaseBallBat" class="pointerCursor objectPointingArrow" src="./objectPointingArrow.png" alt="x">
            <img id="objectPointingArrowYourDadEscapedOutOfTheRoom" class="pointerCursor objectPointingArrow" src="./objectPointingArrow.png" alt="x">
			<img id="objectPointingArrowYourDadEscapedGoBackToSleep" class="pointerCursor objectPointingArrow" src="./objectPointingArrow.png" alt="x">
        </div>
        
        <div id="escapeTheVaultBody" class="levelBody">
            <img id="objectPointingArrowEscapeTheVaultToUnderTheOverseerOffice" class="pointerCursor objectPointingArrow" src="objectPointingArrow.png" alt="x">
			<div class="selectionArea" id="escapeTheVaultToUnderTheOverseerOfficeDoorSelectArea"></div>
			<img id="Radroach" class="attackableEnemy" src="Radroach.png" alt="Radroach">
			<div class="selectionArea" id="vaultExitRoomDoorSwitchSelectArea"></div>
			<div class="selectionArea" id="vaultDoorControlPanelSwitchSelectArea"></div>
			<img id="objectPointingArrowEscapeTheVaultInVaultExitTunnelToOutside" class="pointerCursor objectPointingArrow" src="objectPointingArrow.png" alt="x">
        </div>
		
		<div id="outOfTheVaultBody"  class="levelBody">
			<img id="objectPointingArrowOutOfTheVaultBodyToVault112" class="pointerCursor objectPointingArrow" src="objectPointingArrow.png" title="Go to vault 112" alt="x">
			<img id="objectPointingArrowOutOfTheVaultBodyToDangerousWasteland" class="pointerCursor objectPointingArrow" src="objectPointingArrow.png" title="Explore the dangerous waste land" alt="x">
		</div>
		
		<div id="youFoundYourDadVault112Body" class="levelBody">
			
		</div>
		
		<div id="meetDeathClawYouFuckedUpBody" class="levelBody">
			
		</div>
		
		<!--    Standard Elements    -->
        <div id="dialogueContainer"></div>
        <button class="pointerCursor" id="dialogueReadButton">Next</button>
        <p id="talkerName"></p>
        <img id="objectPointingArrowGoBack" class="pointerCursor objectPointingArrow" src="./objectPointingArrow.png" alt="x">
		<div id="infoBoxTopLeft">
            <div id="infoBoxTopLeftGeneral"></div>
            <div id="infoBoxTopLeftDivider"></div>
            <div id="infoBoxTopLeftSpecific">Take the Pip-Boy 3000 from the overseer</div>
        </div>
		<div id="youWon">You Won</div>
		<div id="youDied">You died. Game over</div>
        <img id="inventoryButton" class="pointerCursor" src="./inventoryIcon.png" alt="x">
        <div id="pipBoy">
            <img id="pipBoyPhoto" src="pipBoy.png" alt="pipBoy">
            <div id="inventoryContainer"></div>
            <img id="pipBoyForPiece" src="./pipBoyForPiece.png" alt="x">
        </div>
        
        <script>
//inventory code
var inventory = [];
inventoryButton.onclick = function(){
    if (inventoryContainer.style.opacity === "1") {
        hideOpacityDisplay(pipBoy);
        hideOpacity(inventoryContainer);
        inventoryContainer.innerHTML = "";
    } else {
        showOpacityDisplay(pipBoy);
        inventoryContainer.style.opacity="1";
        for (var i = 0; i < inventory.length; i++) {
            var itemName = inventory[i];
            var div = document.createElement("div");
            div.setAttribute("class", "itemsContainers");
            var img = document.createElement("img");
            img.src = itemName + ".png";
            var p = document.createElement("p");
            p.setAttribute("class", "p");
            p.innerHTML = itemName;
            div.appendChild(img);
            div.appendChild(p);
            inventoryContainer.appendChild(div);
        };
    };
};
var name = "Elias";
var gender = "Male";
var talkerText = [];//the text that the speaker says
var talkerTextCount = 0;
//dialogue system
var afterFinishedDialogue ;
dialogueReadButton.onclick = function() {
    talkerTextCount++;
    if(talkerTextCount >= talkerText.length) {
        hideOpacityDisplay(dialogueContainer);
        hideOpacityDisplay(dialogueReadButton);
        hideOpacityDisplay(talkerName);
        afterFinishedDialogue();
    } else {
        dialogueContainer.innerHTML = talkerText[talkerTextCount];
    };
};
function hideOpacity(element) {
    element.style.opacity = "0";
};
function hideDisplay(element) {
    element.style.display = "none";
};
function hideOpacityDisplay(element) {
    element.style.opacity = "0";
    setTimeout(function(){
        element.style.display = "none";
    }, 800);
};
function showOpacity(element) {
    element.style.opacity = "1";
};
function showDisplay(element) {
    element.style.display = "block";
};
function showOpacityDisplay(element) {
    element.style.display = "block";
    setTimeout(function(){
        element.style.opacity = "1";
    }, 80);
};
function addItemToInventory(element) {
    element.style.display = "none";
    var itemName = element.title;
    inventory.push(itemName);
};
function changeBI(element, link) { //change background image
    element.style.backgroundImage = link;
};
function showOpacityDisplayF(element) {
    element.style.display = "flex";
    setTimeout(function(){
        element.style.opacity = "1";
    }, 80);
};
            
            
            
            /*///---<<<begin new level (yourDadEscaped)--->>>///*/
            
            yourDadEscaped();
            function yourDadEscaped() {
                //level start
                setTimeout(function(){
                    showOpacityDisplay(yourDadEscapedBody);
                    showOpacity(afterNineYears);
                }, 1000);
                setTimeout(function(){
                    hideOpacityDisplay(afterNineYears);
                }, 3000);
                setTimeout(function(){
                    //dialogueWithAmata function
                    changeBI(yourDadEscapedBody, "url(dialogueWithAmata.png)");
                    talkerTextCount = 0;
                    talkerText.push(
                        "Wake up " + name, 
                        "Your dad has escaped the vault", 
                        "Quick you've got to escape too before the guards get you", 
                        "Take whatever you need and go"
                    );
                    dialogueContainer.innerHTML = talkerText[talkerTextCount];
                    showOpacityDisplay(dialogueContainer);
                    showOpacityDisplay(talkerName);
					talkerName.innerHTML = "Amata";
                    showOpacityDisplay(dialogueReadButton);
                    showOpacity(inventoryButton);
                    afterFinishedDialogue = finishedDialogueWithAmata;
                }, 4000);
                objectPointingArrowYourDadEscapedToBBGun.onclick = function() {lookingAtBBGun()};
                objectPointingArrowYourDadEscapedToBaseBallBat.onclick = function() {lookingAtBaseBallBat()};
                objectPointingArrowYourDadEscapedOutOfTheRoom.onclick = function() {
                    hideOpacityDisplay(this);
                    hideOpacity(inventoryButton);
                    escapeTheVault();
                };
            };
			
			function finishedDialogueWithAmata() {
				changeBI(yourDadEscapedBody, "url(finishedDialogueWithAmata.png)");
				showOpacityDisplay(objectPointingArrowYourDadEscapedToBBGun);
				showOpacityDisplay(objectPointingArrowYourDadEscapedToBaseBallBat);
				showOpacityDisplay(objectPointingArrowYourDadEscapedGoBackToSleep);
				hideOpacityDisplay(objectPointingArrowGoBack);
				hideOpacityDisplay(pickUpItemYourDadEscapedBBGun);
				hideOpacityDisplay(pickUpItemYourDadEscapedBaseBallBat);
				objectPointingArrowYourDadEscapedGoBackToSleep.onmouseover = function(){
					showDisplay(infoBoxTopLeft);
					infoBoxTopLeftSpecific.innerHTML = "Go back to sleep";
				};
				objectPointingArrowYourDadEscapedGoBackToSleep.onmouseout = function(){
					hideDisplay(infoBoxTopLeft);
				};
				objectPointingArrowYourDadEscapedOutOfTheRoom.onmouseover = function(){
					showDisplay(infoBoxTopLeft);
					infoBoxTopLeftSpecific.innerHTML = "Go to the next room";
				};
				objectPointingArrowYourDadEscapedOutOfTheRoom.onmouseout = function(){
					hideDisplay(infoBoxTopLeft);
				};
				if (inventory.includes("BB Gun")) {
					hideDisplay(objectPointingArrowYourDadEscapedToBBGun);
				};
				if (inventory.includes("Baseball bat")) {
					hideDisplay(objectPointingArrowYourDadEscapedToBaseBallBat);
				};
				if (inventory.includes("BB Gun") && inventory.includes("Baseball bat")) {
					showOpacityDisplay(objectPointingArrowYourDadEscapedOutOfTheRoom);
				};
				objectPointingArrowYourDadEscapedGoBackToSleep.onclick = function() {
					hideOpacityDisplay(this);
					hideOpacityDisplay(objectPointingArrowYourDadEscapedToBBGun);
					hideOpacityDisplay(objectPointingArrowYourDadEscapedToBaseBallBat);
					changeBI(yourDadEscapedBody, "url(black.jpg)");
					setTimeout(function(){
						infoBoxTopLeftSpecific.innerHTML = "The guards found you and killed you";
						showOpacityDisplay(infoBoxTopLeft);
					}, 900);
					showOpacityDisplay(youDied);
					hideOpacityDisplay(inventoryButton);
				}
			};
			function lookingAtBBGun() {
				changeBI(yourDadEscapedBody, "url(lookingAtBBGun.png)");
				showOpacityDisplay(pickUpItemYourDadEscapedBBGun);
				showOpacityDisplay(objectPointingArrowGoBack);
				hideOpacityDisplay(objectPointingArrowYourDadEscapedToBBGun);
				hideOpacityDisplay(objectPointingArrowYourDadEscapedToBaseBallBat);
				hideOpacityDisplay(objectPointingArrowYourDadEscapedGoBackToSleep);
				pickUpItemYourDadEscapedBBGun.onclick = function() {addItemToInventory(this)};
				objectPointingArrowGoBack.onclick = function() {finishedDialogueWithAmata()};
				setTimeout(function(){
					showOpacityDisplay(objectPointingArrowGoBack);
//                        showOpacityDisplay(pickUpItemYourDadEscapedBBGun);
					//this is a bug fix for for when the user clicks too fast on the arrow that he skips the animation and because of that it doesn't show the elements
				}, 1000);
			};
			function lookingAtBaseBallBat() {
				changeBI(yourDadEscapedBody, "url(lookingAtBaseBallBat.png)");
				showOpacityDisplay(pickUpItemYourDadEscapedBaseBallBat);
				showOpacityDisplay(objectPointingArrowGoBack);
				hideOpacityDisplay(objectPointingArrowYourDadEscapedToBBGun);
				hideOpacityDisplay(objectPointingArrowYourDadEscapedToBaseBallBat);
				hideOpacityDisplay(objectPointingArrowYourDadEscapedGoBackToSleep);
				pickUpItemYourDadEscapedBaseBallBat.onclick = function() {addItemToInventory(this)};
				objectPointingArrowGoBack.onclick = function() {finishedDialogueWithAmata()};
				setTimeout(function(){
					showOpacityDisplay(objectPointingArrowGoBack);
//                        showOpacityDisplay(pickUpItemYourDadEscapedBaseBallBat);
					//this is a bug fix for for when the user clicks too fast on the arrow that he skips the animation and because of that it doesn't show the elements
				}, 1000);
			};
            function skipYourDadEscapedBody() {
                    hideOpacityDisplay(dialogueContainer);
                    hideOpacityDisplay(dialogueReadButton);
                    hideOpacityDisplay(talkerName);
                    inventory.push("BB Gun", "Baseball bat");
                    changeBI(yourDadEscapedBody, "url(finishedDialogueWithAmata.png)");
                    hideOpacityDisplay(objectPointingArrowGoBack);
                    hideOpacityDisplay(pickUpItemYourDadEscapedBBGun);
                    hideOpacityDisplay(pickUpItemYourDadEscapedBaseBallBat);
                    if (inventory.includes("BB Gun")) {
                        hideDisplay(objectPointingArrowYourDadEscapedToBBGun);
                    };
                    if (inventory.includes("Baseball bat")) {
                        hideDisplay(objectPointingArrowYourDadEscapedToBaseBallBat);
                    };
                    if (inventory.includes("BB Gun") && inventory.includes("Baseball bat")) {
                        showOpacityDisplay(objectPointingArrowYourDadEscapedOutOfTheRoom);
                    };
                };
            
            /*///---<<<begin new level (escapeTheVault)--->>>///*/
            function escapeTheVault() {
                //level start
                hideOpacityDisplay(yourDadEscapedBody);
                showOpacityDisplay(escapeTheVaultBody);
                talkerTextCount = 0;
                setTimeout(function(){
                    changeBI(escapeTheVaultBody, "url(inOverseerOffice.png)");
                    showOpacity(inventoryButton);
                    showOpacityDisplay(objectPointingArrowEscapeTheVaultToUnderTheOverseerOffice);
                    objectPointingArrowEscapeTheVaultToUnderTheOverseerOffice.onclick = function() {
						underTheOverseerOffice();
					};
                }, 1000);
				
				function underTheOverseerOffice() {
					hideOpacityDisplay(objectPointingArrowEscapeTheVaultToUnderTheOverseerOffice);
					changeBI(escapeTheVaultBody, "url(underTheOverseerOffice.png)");
					showDisplay(escapeTheVaultToUnderTheOverseerOfficeDoorSelectArea);
					escapeTheVaultToUnderTheOverseerOfficeDoorSelectArea.onclick = function() {
						vaultExitRoom();
					};
				};
				function vaultExitRoom() {
					hideOpacityDisplay(escapeTheVaultToUnderTheOverseerOfficeDoorSelectArea);
					changeBI(escapeTheVaultBody, "url(vaultExitRoom.png)");
					showOpacityDisplay(Radroach);
					showOpacityDisplay(infoBoxTopLeft);
					infoBoxTopLeftSpecific.innerHTML = "Kill the radroach to continue";
					Radroach.onclick = function() {
						hideDisplay(this);
						infoBoxTopLeftSpecific.innerHTML = "Click on the door switch";
						showDisplay(vaultExitRoomDoorSwitchSelectArea);
						vaultExitRoomDoorSwitchSelectArea.onclick = function() {
							vaultDoorInFrontOfControlPanel();
						};
					};
				};
				function vaultDoorInFrontOfControlPanel() {
					hideOpacityDisplay(vaultExitRoomDoorSwitchSelectArea);
					hideOpacityDisplay(infoBoxTopLeft);
					changeBI(escapeTheVaultBody, "url(vaultExitControlPanel.png)");
					showDisplay(vaultDoorControlPanelSwitchSelectArea);
					vaultDoorControlPanelSwitchSelectArea.onclick = function() {
						vaultExitTunnel();
					};
				};
				function vaultExitTunnel() {
					hideOpacityDisplay(vaultDoorControlPanelSwitchSelectArea);
					changeBI(escapeTheVaultBody, "url(vaultExitTunnel.png)");
					showOpacityDisplay(objectPointingArrowEscapeTheVaultInVaultExitTunnelToOutside);
					objectPointingArrowEscapeTheVaultInVaultExitTunnelToOutside.onclick = function() {
						hideOpacityDisplay(this);
                    	hideOpacity(inventoryButton);
						changeBI(body, "url(white.jpg)");
						outOfTheVault();
					};
				};
            };
			
			/*///---<<<begin new level (outOfTheVault)--->>>///*/
			function outOfTheVault() {
				hideOpacityDisplay(escapeTheVaultBody);
                showOpacityDisplay(outOfTheVaultBody);
				changeBI(outOfTheVaultBody, "url(white.jpg)");
				showOpacity(infoBoxTopLeft);
				setTimeout(function(){
                    changeBI(outOfTheVaultBody, "url(outOfTheVault.png)");
					showOpacityDisplay(objectPointingArrowOutOfTheVaultBodyToVault112);
					showOpacityDisplay(objectPointingArrowOutOfTheVaultBodyToDangerousWasteland);
					showOpacity(inventoryButton);
					changeBI(body, "url(black.jpg)");
                }, 2000);
				objectPointingArrowOutOfTheVaultBodyToVault112.onmouseover = function(){
					showDisplay(infoBoxTopLeft);
					infoBoxTopLeftSpecific.innerHTML = "Go to vault 112";
				};
				objectPointingArrowOutOfTheVaultBodyToVault112.onmouseout = function(){
					hideDisplay(infoBoxTopLeft);
				};
				objectPointingArrowOutOfTheVaultBodyToDangerousWasteland.onmouseover = function(){
					showDisplay(infoBoxTopLeft);
					infoBoxTopLeftSpecific.innerHTML = "Explore the dangerous waste land";
				};
				objectPointingArrowOutOfTheVaultBodyToDangerousWasteland.onmouseout = function(){
					hideDisplay(infoBoxTopLeft);
				};
				objectPointingArrowOutOfTheVaultBodyToVault112.onclick = function() {
					hideOpacityDisplay(this);
                    hideOpacity(inventoryButton);
					youFoundYourDadVault112();
				};
				objectPointingArrowOutOfTheVaultBodyToDangerousWasteland.onclick = function() {
					hideOpacityDisplay(this);
                    hideOpacity(inventoryButton);
					meetDeathClawYouFuckedUp();
				};
			};
			
			/*///---<<<begin new level (youFoundYourDadVault112)--->>>///*/
			function youFoundYourDadVault112() {
				changeBI(body, "url(black.jpg)");
				hideOpacityDisplay(outOfTheVaultBody);
                showOpacityDisplayF(youFoundYourDadVault112Body);
				setTimeout(function(){
                    changeBI(youFoundYourDadVault112Body, "url(youFoundYourDadVault112.png)");
					showOpacity(inventoryButton);
					showOpacityDisplay(infoBoxTopLeft);
					infoBoxTopLeftSpecific.innerHTML = "You found your dad";
                }, 1000);
				setTimeout(function(){
                    changeBI(youFoundYourDadVault112Body, "url(black.jpg)");
					hideOpacityDisplay(infoBoxTopLeft);
					showOpacityDisplay(youWon);
					hideOpacityDisplay(inventoryButton);
                }, 3800);
			};
			
			/*///---<<<begin new level (meetDeathClawYouFuckedUp)--->>>///*/
			function meetDeathClawYouFuckedUp() {
				changeBI(body, "url(black.jpg)");
				hideOpacityDisplay(outOfTheVaultBody);
                showOpacityDisplayF(meetDeathClawYouFuckedUpBody);
				setTimeout(function(){
                    changeBI(meetDeathClawYouFuckedUpBody, "url(meetDeathClawYouFuckedUp.png)");
					showOpacity(inventoryButton);
					showOpacityDisplay(infoBoxTopLeft);
					infoBoxTopLeftSpecific.innerHTML = "You Fucked Up. You found a death claw that will kill you ";
                }, 1000);
				setTimeout(function(){
                    changeBI(meetDeathClawYouFuckedUpBody, "url(black.jpg)");
					hideOpacityDisplay(infoBoxTopLeft);
					showOpacityDisplay(youDied);
					hideOpacityDisplay(inventoryButton);
                }, 4000);
			};
			
        </script>
    </body>
</html>